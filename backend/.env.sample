# Copyright (c) 2025 Eventful India Marketing Services, India
# All rights reserved.
# 
# Service: taxonomy
# Port: 3201
# Environment Variables Template
# Template: Eventzr Code Repository Template v1.0

# =================================
# APPLICATION CONFIGURATION
# =================================
NODE_ENV=development
PORT=3201
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_SWAGGER=true
ENABLE_METRICS=true
ENABLE_TRACING=true

# Public URL for the service
PUBLIC_URL=https://api.eventzr.com/v1/taxonomy

# Rate limiting
RATE_LIMIT=600

# =================================
# SECURITY CONFIGURATION
# =================================
JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRES_IN=15m
ALLOWED_ORIGINS=https://app.eventzr.com,https://admin.eventzr.com

# =================================
# DATABASE CONFIGURATION
# =================================
DATABASE_URL=postgresql://taxonomy:password@localhost:5432/taxonomy_db
DB_CONNECTION_LIMIT=10
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_QUERY_TIMEOUT=30000
DB_STATEMENT_TIMEOUT=60000
ENABLE_RLS=true
ENABLE_QUERY_LOGGING=false
SLOW_QUERY_THRESHOLD=1000

# =================================
# CACHE CONFIGURATION (REDIS)
# =================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_RETRY_DELAY=2000
REDIS_MAX_RETRIES=3
REDIS_MAX_POOL_SIZE=10
REDIS_MIN_POOL_SIZE=2

# Cache TTL settings (seconds)
CACHE_DEFAULT_TTL=300
CACHE_TAXONOMY_TTL=3600
CACHE_CATEGORY_TTL=1800
CACHE_CLASSIFICATION_TTL=300
CACHE_SEARCH_TTL=600

# Cache configuration
CACHE_ENABLED=true
CACHE_METRICS_ENABLED=true
CACHE_COMPRESSION_ENABLED=false
CACHE_KEY_PREFIX=taxonomy:

# =================================
# SERVICE INTEGRATION URLS
# =================================
# API Gateway (Golden Rule #3)
API_GATEWAY_URL=http://api-gateway:3000
API_GATEWAY_TIMEOUT=30000
API_GATEWAY_RETRIES=3

# Auth Service (Golden Rule #1)
AUTH_SERVICE_URL=http://auth:3100
AUTH_TIMEOUT=5000
AUTH_RETRIES=3
AUTH_PUBLIC_KEY_URL=http://auth:3100/v1/auth/public-key

# Audit Service (Golden Rule #2)
AUDIT_SERVICE_URL=http://audit:3101
AUDIT_TIMEOUT=10000
AUDIT_RETRIES=3
AUDIT_BATCH_SIZE=100

# Secrets KMS (Registry Dependency)
SECRETS_KMS_URL=http://secrets-kms:3902
SECRETS_KMS_TIMEOUT=10000
SECRETS_KMS_RETRIES=3

# Masterdata Service (Registry Dependency)
MASTERDATA_URL=http://masterdata:3200
MASTERDATA_TIMEOUT=10000
MASTERDATA_RETRIES=3

# AI Labs Service (Golden Rule #5)
AILABS_URL=http://ailabs:3400
AILABS_TIMEOUT=60000
AILABS_RETRIES=2

# Integration Hub (Golden Rule #4)
INTEGRATION_HUB_URL=http://integration-hub:3726
INTEGRATION_HUB_TIMEOUT=30000
INTEGRATION_HUB_RETRIES=3

# =================================
# CIRCUIT BREAKER CONFIGURATION
# =================================
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=30000

# =================================
# RETRY CONFIGURATION
# =================================
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_DELAY=1000
RETRY_MAX_DELAY=10000

# =================================
# HEALTH CHECK CONFIGURATION
# =================================
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =================================
# AWS CONFIGURATION
# =================================
AWS_REGION=us-east-1
STAGE=dev

# =================================
# MONITORING CONFIGURATION
# =================================
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=true
JAEGER_ENDPOINT=http://jaeger:14268/api/traces

# =================================
# MULTI-TENANCY CONFIGURATION
# =================================
DEFAULT_TENANT_ID=default
ENFORCE_RLS=true

# =================================
# PERFORMANCE CONFIGURATION
# =================================
MAX_BODY_SIZE=10mb
REQUEST_TIMEOUT=30000

# =================================
# BACKUP CONFIGURATION
# =================================
ENABLE_BACKUP=true
BACKUP_SCHEDULE=0 2 * * *



